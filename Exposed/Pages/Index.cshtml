@page "/"
@{
    ViewData["Title"] = "Exposed";
}
<div class="screen" id="landing">
    <header class="ui-top">
        <div class="ui-brand">EXPOSED</div>
    </header>

    <main class="ui-center">
        <p class="center-quote">They were not soldiers. They were exposed.</p>
    </main>
</div>

@section Scripts {
    <script>
        (() => {
          const screen = document.getElementById('landing');

          screen.addEventListener('click', (e) => {
            if (e.target.closest('button, a, input, textarea, select, label')) return;

            const a = document.getElementById('bg-audio');
            if (a) {
              localStorage.setItem('bgAudio.time', String(a.currentTime || 0));
              localStorage.setItem('bgAudio.volume', String(a.volume ?? 0));
              localStorage.setItem('bgAudio.muted', a.muted ? '1' : '0');
              if ((a.volume ?? 0) > 0) localStorage.setItem('bgAudio.last', String(a.volume));
            }

            window.location.href = '/timeline';
          });
        })();
    </script>
}